---
layout: post
title: github page
---

<p>从上个月31号以来，搭载在github page上的博客一直就不肯更新，导致写了新文章也发不出来。看到github 30号的blog：<a href="https://github.com/blog/1867-github-pages-now-runs-jekyll-2-2-0" target="_blank">《GitHub Pages now runs Jekyll 2.2.0》</a>，估摸到可能是因为github page更新的原因。今天才知道如果出错了会收到邮件通知，但是我用的是gmail，国内你懂得。。反正确实是收到了一封题为《[blog] Page build failure》的邮件，虽然没说具体是什么原因，但是确实是构建错误了。</p>

<p>蛋疼了，只能在本地模拟建一个和github一样的环境跑下试试，看看报什么错。</p>

<h3>Build Your Github Page On Local</h3>

<p>主要遵循官网的教程：<a href="https://help.github.com/articles/using-jekyll-with-pages" target="_blank">《Using Jekyll with Pages》</a>，但是官网默认全世界都是mac用户。。。</p>

<p>所以windows用户得自己先装ruby。去<a href="http://rubyinstaller.org/downloads/" target="_blank">RubyInstaller</a>下载就行，我下的是1.9.3稳定版（完了先别关掉页面，后面可能还要访问它）。安装时最后会问你要不要添加环境变量什么的，放心全部统统都打钩！不是360！完了跑下<code>ruby -v</code>看看成功没。</p>

<p>成功都话就可以跑<code>gem -v</code>看下有gem没（肯定有的）。改下gem的配置，原因你懂的：</p>

<pre class="bash"><code>gem sources -a http://ruby.taobao.org/</code></pre>

<p>完了可以查看下源列表</p>

<pre class="bash"><code>gem sources -l</code></pre>

<p>添加成功之后便可以跟着官网教程走啦！</p>

<p>期间可能需要安装Development Kit，刚刚下ruby的页面就有下！安装方法参考github官方教程：<a href="https://github.com/oneclick/rubyinstaller/wiki/Development-kit" target="_blank">《Development Kit》</a></p>

<p>一起都走完了之后，我小心翼翼地敲下<code>bundle exec jekyll serve</code>。。。果然报错了！原因是jekyll中在引参数时引用了变量，如下：</p>

{% raw %}
<pre class="jekyll"><code>{% include header.html body_class="{{ body_class }}" %}</code></pre>
{% endraw %}

<p>原来都是可以的，这次升级时候就报错了。。</p>

<p>解决办法：删掉问题代码。（又没有人告诉我现在为什么不行以前又为什么行( •₃ •)。。）</p>

<p>参考：<a href="http://yanping.me/cn/blog/2012/03/18/github-pages-step-by-step/" target="_blank">《Github Pages极简教程》</a></p>